# 設計

## アプローチ検討

### 画像読み込み方式
- HTMLのImageオブジェクトを使用して画像を読み込む
- 画像の読み込みは非同期処理となるため、ロード完了を待つ必要がある
- Playerクラス内で画像を管理し、renderメソッドで描画する

### 実装方針
1. **画像管理**
   - Playerクラスにimageプロパティを追加
   - コンストラクタで画像の読み込みを開始
   - 画像読み込み中はフォールバック（現在の図形描画）を使用

2. **描画処理**
   - Rendererクラスに画像描画メソッド（drawImage）を追加
   - Playerのrenderメソッドで、画像が読み込まれていれば画像を、そうでなければ現在の図形を描画

3. **画像の向き対応**
   - 現在のdirectionプロパティ（1:右向き、-1:左向き）に基づいて画像を反転
   - Canvas APIのscale変換を使用

## 実施手順
1. RendererクラスにdrawImageメソッドを追加
2. Playerクラスに画像読み込み処理を追加
3. Playerのrenderメソッドを画像描画に対応させる
4. 動作確認とエラーハンドリング

## 問題点と対策
- **問題**: 画像読み込みの非同期性
  - **対策**: 読み込み完了まではフォールバック描画を使用
  
- **問題**: 画像サイズと既存のサイズの不一致
  - **対策**: drawImageで描画時にサイズを指定して調整
  
- **問題**: 左右反転時の位置調整
  - **対策**: Canvas変換時に適切な座標補正を行う